{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import styled from'styled-components';import{motion,AnimatePresence}from'framer-motion';import{FaMicrophone,FaMicrophoneSlash,FaPaperPlane,FaPhone,FaUser,FaCar}from'react-icons/fa';import axios from'axios';// Types\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Styled Components\nconst AppContainer=styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  flex-direction: column;\n`;const Header=styled.header`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  padding: 1rem;\n  text-align: center;\n  color: white;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n`;const Title=styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n`;const Subtitle=styled.p`\n  margin: 0.5rem 0 0 0;\n  font-size: 0.9rem;\n  opacity: 0.8;\n`;const MainContent=styled.main`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  width: 100%;\n  padding: 1rem;\n`;const BookingCodeInput=styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;const Input=styled.input`\n  flex: 1;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;const ChatContainer=styled.div`\n  flex: 1;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  max-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;const MessageBubble=styled(motion.div)`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  justify-content: ${props=>props.$isOwn?'flex-end':'flex-start'};\n`;const MessageContent=styled.div`\n  background: ${props=>props.$isOwn?'rgba(255, 255, 255, 0.9)':'rgba(255, 255, 255, 0.2)'};\n  color: ${props=>props.$isOwn?'#333':'white'};\n  padding: 0.75rem 1rem;\n  border-radius: 18px;\n  max-width: 70%;\n  word-wrap: break-word;\n  position: relative;\n  \n  ${props=>props.$isOwn?`\n    border-bottom-right-radius: 5px;\n  `:`\n    border-bottom-left-radius: 5px;\n  `}\n`;const MessageTime=styled.div`\n  font-size: 0.7rem;\n  opacity: 0.7;\n  margin-top: 0.25rem;\n`;const Avatar=styled.div`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${props=>{switch(props.$type){case'driver':return'rgba(255, 255, 255, 0.9)';case'passenger':return'rgba(255, 255, 255, 0.7)';case'ai':return'rgba(255, 255, 255, 0.8)';default:return'rgba(255, 255, 255, 0.5)';}}};\n  color: #333;\n  font-size: 0.8rem;\n  font-weight: bold;\n`;const InputContainer=styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 25px;\n  padding: 0.5rem;\n`;const TextInput=styled.input`\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 20px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;const Button=styled(motion.button)`\n  width: 44px;\n  height: 44px;\n  border: none;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  color: #333;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 1);\n    transform: scale(1.05);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;const VoiceButton=styled(Button)`\n  background: ${props=>props.$isListening?'rgba(255, 100, 100, 0.9)':'rgba(255, 255, 255, 0.9)'};\n  color: ${props=>props.$isListening?'white':'#333'};\n`;const StatusMessage=styled.div`\n  text-align: center;\n  color: white;\n  font-size: 0.9rem;\n  opacity: 0.8;\n  margin: 0.5rem 0;\n`;const CallIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: rgba(255, 100, 100, 0.2);\n  padding: 0.5rem 1rem;\n  border-radius: 10px;\n  color: white;\n  font-size: 0.9rem;\n`;// App Component\nconst App=()=>{const[bookingCode,setBookingCode]=useState('');const[messages,setMessages]=useState([]);const[inputText,setInputText]=useState('');const[isListening,setIsListening]=useState(false);const[isConnected,setIsConnected]=useState(false);const[recognition,setRecognition]=useState(null);const[statusMessage,setStatusMessage]=useState('');const chatContainerRef=useRef(null);const inputRef=useRef(null);// Initialize speech recognition\nuseEffect(()=>{const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(SpeechRecognition){const recognition=new SpeechRecognition();recognition.continuous=false;recognition.interimResults=false;recognition.lang='en-US';recognition.onstart=()=>{setIsListening(true);setStatusMessage('Listening...');};recognition.onend=()=>{setIsListening(false);setStatusMessage('');};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);setIsListening(false);setStatusMessage('Voice recognition error. Please try again.');};recognition.onresult=event=>{const transcript=event.results[0].transcript;setInputText(transcript);setStatusMessage('Processing voice input...');};setRecognition(recognition);}else{setStatusMessage('Voice recognition not supported in this browser.');}},[]);// Auto-scroll to bottom when new messages arrive\nuseEffect(()=>{if(chatContainerRef.current){chatContainerRef.current.scrollTop=chatContainerRef.current.scrollHeight;}},[messages]);// Connect to booking\nconst connectToBooking=async()=>{if(!bookingCode.trim()){setStatusMessage('Please enter a booking code.');return;}try{setStatusMessage('Connecting to booking...');// Test connection by getting messages\nconst response=await axios.get(`/api/v1/get_message/${bookingCode}`);if(response.data.success){setIsConnected(true);setMessages(response.data.data.messages||[]);setStatusMessage('Connected successfully!');// Add welcome message\nconst welcomeMessage={id:Date.now().toString(),text:`Welcome to booking ${bookingCode}! How can I help you today?`,sender:'ai',timestamp:new Date().toISOString(),type:'text'};setMessages(prev=>[...prev,welcomeMessage]);}}catch(error){console.error('Connection error:',error);setStatusMessage('Failed to connect. Please check your booking code.');}};// Send message\nconst sendMessage=async()=>{if(!inputText.trim()||!isConnected)return;const newMessage={id:Date.now().toString(),text:inputText,sender:'driver',timestamp:new Date().toISOString(),type:'text'};setMessages(prev=>[...prev,newMessage]);setInputText('');setStatusMessage('Sending message...');try{const response=await axios.post('/api/v1/send_message',{booking_code:bookingCode,message:inputText,sender:'driver'});if(response.data.success){setStatusMessage('Message sent successfully!');// Add AI response\nconst aiResponse={id:(Date.now()+1).toString(),text:'Message sent successfully. The passenger will be notified.',sender:'ai',timestamp:new Date().toISOString(),type:'text'};setMessages(prev=>[...prev,aiResponse]);}}catch(error){console.error('Send message error:',error);setStatusMessage('Failed to send message. Please try again.');}};// Make call\nconst makeCall=async()=>{if(!isConnected)return;setStatusMessage('Initiating call...');try{const response=await axios.post('/api/v1/make_call',{booking_code:bookingCode,call_type:'voice',duration:0});if(response.data.success){const callMessage={id:Date.now().toString(),text:'Call initiated successfully',sender:'ai',timestamp:new Date().toISOString(),type:'call',callDetails:{duration:0,status:'initiated'}};setMessages(prev=>[...prev,callMessage]);setStatusMessage('Call initiated!');}}catch(error){console.error('Make call error:',error);setStatusMessage('Failed to initiate call. Please try again.');}};// Start voice recognition\nconst startListening=()=>{if(recognition&&!isListening){recognition.start();}};// Handle key press\nconst handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};return/*#__PURE__*/_jsxs(AppContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Title,{children:\"DAX - Driver Assistant\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"AI-powered chat and voice assistant\"})]}),/*#__PURE__*/_jsxs(MainContent,{children:[!isConnected?/*#__PURE__*/_jsxs(BookingCodeInput,{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Enter booking code...\",value:bookingCode,onChange:e=>setBookingCode(e.target.value),onKeyPress:e=>e.key==='Enter'&&connectToBooking()}),/*#__PURE__*/_jsx(Button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:connectToBooking,children:\"Connect\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChatContainer,{ref:chatContainerRef,children:/*#__PURE__*/_jsx(AnimatePresence,{children:messages.map(message=>/*#__PURE__*/_jsxs(MessageBubble,{$isOwn:message.sender==='driver',initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3},children:[message.sender!=='driver'&&/*#__PURE__*/_jsx(Avatar,{$type:message.sender,children:message.sender==='passenger'?/*#__PURE__*/_jsx(FaUser,{}):/*#__PURE__*/_jsx(FaCar,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MessageContent,{$isOwn:message.sender==='driver',children:message.type==='call'?/*#__PURE__*/_jsxs(CallIndicator,{children:[/*#__PURE__*/_jsx(FaPhone,{}),message.text]}):message.text}),/*#__PURE__*/_jsx(MessageTime,{children:new Date(message.timestamp).toLocaleTimeString()})]}),message.sender==='driver'&&/*#__PURE__*/_jsx(Avatar,{$type:message.sender,children:/*#__PURE__*/_jsx(FaCar,{})})]},message.id))})}),/*#__PURE__*/_jsxs(InputContainer,{children:[/*#__PURE__*/_jsx(TextInput,{ref:inputRef,type:\"text\",placeholder:\"Type a message or use voice...\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:handleKeyPress,disabled:!isConnected}),/*#__PURE__*/_jsx(VoiceButton,{$isListening:isListening,whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:startListening,disabled:!isConnected||isListening,children:isListening?/*#__PURE__*/_jsx(FaMicrophoneSlash,{}):/*#__PURE__*/_jsx(FaMicrophone,{})}),/*#__PURE__*/_jsx(Button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:sendMessage,disabled:!inputText.trim()||!isConnected,children:/*#__PURE__*/_jsx(FaPaperPlane,{})}),/*#__PURE__*/_jsx(Button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:makeCall,disabled:!isConnected,children:/*#__PURE__*/_jsx(FaPhone,{})})]})]}),statusMessage&&/*#__PURE__*/_jsx(StatusMessage,{children:statusMessage})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","motion","AnimatePresence","FaMicrophone","FaMicrophoneSlash","FaPaperPlane","FaPhone","FaUser","FaCar","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppContainer","div","Header","header","Title","h1","Subtitle","p","MainContent","main","BookingCodeInput","Input","input","ChatContainer","MessageBubble","props","$isOwn","MessageContent","MessageTime","Avatar","$type","InputContainer","TextInput","Button","button","VoiceButton","$isListening","StatusMessage","CallIndicator","App","bookingCode","setBookingCode","messages","setMessages","inputText","setInputText","isListening","setIsListening","isConnected","setIsConnected","recognition","setRecognition","statusMessage","setStatusMessage","chatContainerRef","inputRef","SpeechRecognition","window","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onend","onerror","event","console","error","onresult","transcript","results","current","scrollTop","scrollHeight","connectToBooking","trim","response","get","data","success","welcomeMessage","id","Date","now","toString","text","sender","timestamp","toISOString","type","prev","sendMessage","newMessage","post","booking_code","message","aiResponse","makeCall","call_type","duration","callMessage","callDetails","status","startListening","start","handleKeyPress","e","key","shiftKey","preventDefault","children","placeholder","value","onChange","target","onKeyPress","whileHover","scale","whileTap","onClick","ref","map","initial","opacity","y","animate","exit","transition","toLocaleTimeString","disabled"],"sources":["/Users/sameer.jha/Python_Projects/NavieTakieSimulation/frontend/dax-app/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  FaMicrophone, \n  FaMicrophoneSlash, \n  FaPaperPlane, \n  FaPhone,\n  FaUser,\n  FaCar\n} from 'react-icons/fa';\nimport axios from 'axios';\n\n// Types\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'driver' | 'passenger' | 'ai';\n  timestamp: string;\n  type: 'text' | 'call';\n  callDetails?: {\n    duration: number;\n    status: string;\n  };\n}\n\ninterface SpeechRecognitionErrorEvent extends Event {\n  error: string;\n  message: string;\n}\n\ninterface SpeechRecognitionResult {\n  transcript: string;\n  confidence: number;\n}\n\ninterface SpeechRecognitionResultList {\n  length: number;\n  item(index: number): SpeechRecognitionResult;\n  [index: number]: SpeechRecognitionResult;\n}\n\ninterface SpeechRecognitionEvent extends Event {\n  resultIndex: number;\n  results: SpeechRecognitionResultList;\n}\n\ninterface VoiceRecognition extends EventTarget {\n  start(): void;\n  stop(): void;\n  abort(): void;\n  continuous: boolean;\n  interimResults: boolean;\n  lang: string;\n  onstart: ((this: VoiceRecognition, ev: Event) => any) | null;\n  onend: ((this: VoiceRecognition, ev: Event) => any) | null;\n  onerror: ((this: VoiceRecognition, ev: SpeechRecognitionErrorEvent) => any) | null;\n  onresult: ((this: VoiceRecognition, ev: SpeechRecognitionEvent) => any) | null;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition: new () => VoiceRecognition;\n    webkitSpeechRecognition: new () => VoiceRecognition;\n  }\n}\n\n// Styled Components\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Header = styled.header`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  padding: 1rem;\n  text-align: center;\n  color: white;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n`;\n\nconst Title = styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n`;\n\nconst Subtitle = styled.p`\n  margin: 0.5rem 0 0 0;\n  font-size: 0.9rem;\n  opacity: 0.8;\n`;\n\nconst MainContent = styled.main`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  width: 100%;\n  padding: 1rem;\n`;\n\nconst BookingCodeInput = styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst Input = styled.input`\n  flex: 1;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst ChatContainer = styled.div`\n  flex: 1;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  max-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst MessageBubble = styled(motion.div)<{ $isOwn: boolean }>`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  justify-content: ${props => props.$isOwn ? 'flex-end' : 'flex-start'};\n`;\n\nconst MessageContent = styled.div<{ $isOwn: boolean }>`\n  background: ${props => props.$isOwn ? 'rgba(255, 255, 255, 0.9)' : 'rgba(255, 255, 255, 0.2)'};\n  color: ${props => props.$isOwn ? '#333' : 'white'};\n  padding: 0.75rem 1rem;\n  border-radius: 18px;\n  max-width: 70%;\n  word-wrap: break-word;\n  position: relative;\n  \n  ${props => props.$isOwn ? `\n    border-bottom-right-radius: 5px;\n  ` : `\n    border-bottom-left-radius: 5px;\n  `}\n`;\n\nconst MessageTime = styled.div`\n  font-size: 0.7rem;\n  opacity: 0.7;\n  margin-top: 0.25rem;\n`;\n\nconst Avatar = styled.div<{ $type: 'driver' | 'passenger' | 'ai' }>`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${props => {\n    switch (props.$type) {\n      case 'driver': return 'rgba(255, 255, 255, 0.9)';\n      case 'passenger': return 'rgba(255, 255, 255, 0.7)';\n      case 'ai': return 'rgba(255, 255, 255, 0.8)';\n      default: return 'rgba(255, 255, 255, 0.5)';\n    }\n  }};\n  color: #333;\n  font-size: 0.8rem;\n  font-weight: bold;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 25px;\n  padding: 0.5rem;\n`;\n\nconst TextInput = styled.input`\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 20px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst Button = styled(motion.button)`\n  width: 44px;\n  height: 44px;\n  border: none;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  color: #333;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 1);\n    transform: scale(1.05);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst VoiceButton = styled(Button)<{ $isListening: boolean }>`\n  background: ${props => props.$isListening ? 'rgba(255, 100, 100, 0.9)' : 'rgba(255, 255, 255, 0.9)'};\n  color: ${props => props.$isListening ? 'white' : '#333'};\n`;\n\nconst StatusMessage = styled.div`\n  text-align: center;\n  color: white;\n  font-size: 0.9rem;\n  opacity: 0.8;\n  margin: 0.5rem 0;\n`;\n\nconst CallIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: rgba(255, 100, 100, 0.2);\n  padding: 0.5rem 1rem;\n  border-radius: 10px;\n  color: white;\n  font-size: 0.9rem;\n`;\n\n// App Component\nconst App: React.FC = () => {\n  const [bookingCode, setBookingCode] = useState('');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputText, setInputText] = useState('');\n  const [isListening, setIsListening] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [recognition, setRecognition] = useState<VoiceRecognition | null>(null);\n  const [statusMessage, setStatusMessage] = useState('');\n  \n  const chatContainerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Initialize speech recognition\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SpeechRecognition) {\n      const recognition = new SpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'en-US';\n      \n      recognition.onstart = () => {\n        setIsListening(true);\n        setStatusMessage('Listening...');\n      };\n      \n      recognition.onend = () => {\n        setIsListening(false);\n        setStatusMessage('');\n      };\n      \n      recognition.onerror = (event) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        setStatusMessage('Voice recognition error. Please try again.');\n      };\n      \n      recognition.onresult = (event) => {\n        const transcript = event.results[0].transcript;\n        setInputText(transcript);\n        setStatusMessage('Processing voice input...');\n      };\n      \n      setRecognition(recognition);\n    } else {\n      setStatusMessage('Voice recognition not supported in this browser.');\n    }\n  }, []);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Connect to booking\n  const connectToBooking = async () => {\n    if (!bookingCode.trim()) {\n      setStatusMessage('Please enter a booking code.');\n      return;\n    }\n\n    try {\n      setStatusMessage('Connecting to booking...');\n      \n      // Test connection by getting messages\n      const response = await axios.get(`/api/v1/get_message/${bookingCode}`);\n      \n      if (response.data.success) {\n        setIsConnected(true);\n        setMessages(response.data.data.messages || []);\n        setStatusMessage('Connected successfully!');\n        \n        // Add welcome message\n        const welcomeMessage: Message = {\n          id: Date.now().toString(),\n          text: `Welcome to booking ${bookingCode}! How can I help you today?`,\n          sender: 'ai',\n          timestamp: new Date().toISOString(),\n          type: 'text'\n        };\n        setMessages(prev => [...prev, welcomeMessage]);\n      }\n    } catch (error) {\n      console.error('Connection error:', error);\n      setStatusMessage('Failed to connect. Please check your booking code.');\n    }\n  };\n\n  // Send message\n  const sendMessage = async () => {\n    if (!inputText.trim() || !isConnected) return;\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      text: inputText,\n      sender: 'driver',\n      timestamp: new Date().toISOString(),\n      type: 'text'\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    setInputText('');\n    setStatusMessage('Sending message...');\n\n    try {\n      const response = await axios.post('/api/v1/send_message', {\n        booking_code: bookingCode,\n        message: inputText,\n        sender: 'driver'\n      });\n\n      if (response.data.success) {\n        setStatusMessage('Message sent successfully!');\n        \n        // Add AI response\n        const aiResponse: Message = {\n          id: (Date.now() + 1).toString(),\n          text: 'Message sent successfully. The passenger will be notified.',\n          sender: 'ai',\n          timestamp: new Date().toISOString(),\n          type: 'text'\n        };\n        setMessages(prev => [...prev, aiResponse]);\n      }\n    } catch (error) {\n      console.error('Send message error:', error);\n      setStatusMessage('Failed to send message. Please try again.');\n    }\n  };\n\n  // Make call\n  const makeCall = async () => {\n    if (!isConnected) return;\n\n    setStatusMessage('Initiating call...');\n\n    try {\n      const response = await axios.post('/api/v1/make_call', {\n        booking_code: bookingCode,\n        call_type: 'voice',\n        duration: 0\n      });\n\n      if (response.data.success) {\n        const callMessage: Message = {\n          id: Date.now().toString(),\n          text: 'Call initiated successfully',\n          sender: 'ai',\n          timestamp: new Date().toISOString(),\n          type: 'call',\n          callDetails: {\n            duration: 0,\n            status: 'initiated'\n          }\n        };\n        setMessages(prev => [...prev, callMessage]);\n        setStatusMessage('Call initiated!');\n      }\n    } catch (error) {\n      console.error('Make call error:', error);\n      setStatusMessage('Failed to initiate call. Please try again.');\n    }\n  };\n\n  // Start voice recognition\n  const startListening = () => {\n    if (recognition && !isListening) {\n      recognition.start();\n    }\n  };\n\n  // Handle key press\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <AppContainer>\n      <Header>\n        <Title>DAX - Driver Assistant</Title>\n        <Subtitle>AI-powered chat and voice assistant</Subtitle>\n      </Header>\n\n      <MainContent>\n        {!isConnected ? (\n          <BookingCodeInput>\n            <Input\n              type=\"text\"\n              placeholder=\"Enter booking code...\"\n              value={bookingCode}\n              onChange={(e) => setBookingCode(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && connectToBooking()}\n            />\n            <Button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={connectToBooking}\n            >\n              Connect\n            </Button>\n          </BookingCodeInput>\n        ) : (\n          <>\n            <ChatContainer ref={chatContainerRef}>\n              <AnimatePresence>\n                {messages.map((message) => (\n                  <MessageBubble\n                    key={message.id}\n                    $isOwn={message.sender === 'driver'}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -20 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    {message.sender !== 'driver' && (\n                      <Avatar $type={message.sender}>\n                        {message.sender === 'passenger' ? <FaUser /> : <FaCar />}\n                      </Avatar>\n                    )}\n                    <div>\n                      <MessageContent $isOwn={message.sender === 'driver'}>\n                        {message.type === 'call' ? (\n                          <CallIndicator>\n                            <FaPhone />\n                            {message.text}\n                          </CallIndicator>\n                        ) : (\n                          message.text\n                        )}\n                      </MessageContent>\n                      <MessageTime>\n                        {new Date(message.timestamp).toLocaleTimeString()}\n                      </MessageTime>\n                    </div>\n                    {message.sender === 'driver' && (\n                      <Avatar $type={message.sender}>\n                        <FaCar />\n                      </Avatar>\n                    )}\n                  </MessageBubble>\n                ))}\n              </AnimatePresence>\n            </ChatContainer>\n\n            <InputContainer>\n              <TextInput\n                ref={inputRef}\n                type=\"text\"\n                placeholder=\"Type a message or use voice...\"\n                value={inputText}\n                onChange={(e) => setInputText(e.target.value)}\n                onKeyPress={handleKeyPress}\n                disabled={!isConnected}\n              />\n              <VoiceButton\n                $isListening={isListening}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={startListening}\n                disabled={!isConnected || isListening}\n              >\n                {isListening ? <FaMicrophoneSlash /> : <FaMicrophone />}\n              </VoiceButton>\n              <Button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={sendMessage}\n                disabled={!inputText.trim() || !isConnected}\n              >\n                <FaPaperPlane />\n              </Button>\n              <Button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={makeCall}\n                disabled={!isConnected}\n              >\n                <FaPhone />\n              </Button>\n            </InputContainer>\n          </>\n        )}\n\n        {statusMessage && (\n          <StatusMessage>{statusMessage}</StatusMessage>\n        )}\n      </MainContent>\n    </AppContainer>\n  );\n};\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}