{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import styled from'styled-components';import{motion,AnimatePresence}from'framer-motion';import{FaMicrophone,FaMicrophoneSlash,FaPaperPlane,FaPhone,FaUser,FaCar}from'react-icons/fa';import axios from'axios';import{API_ENDPOINTS}from'./config';// Types\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Styled Components (same as DAX app)\nconst AppContainer=styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  flex-direction: column;\n`;const Header=styled.header`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  padding: 1rem;\n  text-align: center;\n  color: white;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n`;const Title=styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n`;const Subtitle=styled.p`\n  margin: 0.5rem 0 0 0;\n  font-size: 0.9rem;\n  opacity: 0.8;\n`;const MainContent=styled.main`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  width: 100%;\n  padding: 1rem;\n`;const BookingCodeInput=styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;const Input=styled.input`\n  flex: 1;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;const ChatContainer=styled.div`\n  flex: 1;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  max-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;const MessageBubble=styled(motion.div)`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  justify-content: ${props=>props.$isOwn?'flex-end':'flex-start'};\n`;const MessageContent=styled.div`\n  background: ${props=>props.$isOwn?'rgba(255, 255, 255, 0.9)':'rgba(255, 255, 255, 0.2)'};\n  color: ${props=>props.$isOwn?'#333':'white'};\n  padding: 0.75rem 1rem;\n  border-radius: 18px;\n  max-width: 70%;\n  word-wrap: break-word;\n  position: relative;\n  \n  ${props=>props.$isOwn?`\n    border-bottom-right-radius: 5px;\n  `:`\n    border-bottom-left-radius: 5px;\n  `}\n`;const MessageTime=styled.div`\n  font-size: 0.7rem;\n  opacity: 0.7;\n  margin-top: 0.25rem;\n`;const Avatar=styled.div`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${props=>{switch(props.$type){case'driver':return'rgba(255, 255, 255, 0.9)';case'passenger':return'rgba(255, 255, 255, 0.7)';case'ai':return'rgba(255, 255, 255, 0.8)';default:return'rgba(255, 255, 255, 0.5)';}}};\n  color: #333;\n  font-size: 0.8rem;\n  font-weight: bold;\n`;const InputContainer=styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 25px;\n  padding: 0.5rem;\n`;const TextInput=styled.input`\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 20px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;const Button=styled(motion.button)`\n  width: 44px;\n  height: 44px;\n  border: none;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  color: #333;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 1);\n    transform: scale(1.05);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;const VoiceButton=styled(Button)`\n  background: ${props=>props.$isListening?'rgba(255, 100, 100, 0.9)':'rgba(255, 255, 255, 0.9)'};\n  color: ${props=>props.$isListening?'white':'#333'};\n`;const StatusMessage=styled.div`\n  text-align: center;\n  color: white;\n  font-size: 0.9rem;\n  opacity: 0.8;\n  margin: 0.5rem 0;\n`;const CallIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: rgba(255, 100, 100, 0.2);\n  padding: 0.5rem 1rem;\n  border-radius: 10px;\n  color: white;\n  font-size: 0.9rem;\n`;// App Component\nconst App=()=>{const[bookingCode,setBookingCode]=useState('');const[messages,setMessages]=useState([]);const[inputText,setInputText]=useState('');const[isListening,setIsListening]=useState(false);const[isConnected,setIsConnected]=useState(false);const[recognition,setRecognition]=useState(null);const[statusMessage,setStatusMessage]=useState('');const chatContainerRef=useRef(null);const inputRef=useRef(null);// Initialize speech recognition\nuseEffect(()=>{const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(SpeechRecognition){const recognition=new SpeechRecognition();recognition.continuous=false;recognition.interimResults=false;recognition.lang='en-US';recognition.onstart=()=>{setIsListening(true);setStatusMessage('Listening...');};recognition.onend=()=>{setIsListening(false);setStatusMessage('');};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);setIsListening(false);setStatusMessage('Voice recognition error. Please try again.');};recognition.onresult=event=>{const transcript=event.results[0].transcript;setInputText(transcript);setStatusMessage('Processing voice input...');};setRecognition(recognition);}else{setStatusMessage('Voice recognition not supported in this browser.');}},[]);// Auto-scroll to bottom when new messages arrive\nuseEffect(()=>{if(chatContainerRef.current){chatContainerRef.current.scrollTop=chatContainerRef.current.scrollHeight;}},[messages]);// Poll for new messages\nuseEffect(()=>{if(!isConnected||!bookingCode)return;const pollInterval=setInterval(async()=>{try{const response=await axios.get(`/api/v1/get_message/${bookingCode}`);if(response.data.success){const newMessages=response.data.data.messages||[];setMessages(newMessages);}}catch(error){console.error('Polling error:',error);}},3000);// Poll every 3 seconds\nreturn()=>clearInterval(pollInterval);},[isConnected,bookingCode]);// Connect to booking\nconst connectToBooking=async()=>{if(!bookingCode.trim()){setStatusMessage('Please enter a booking code.');return;}try{setStatusMessage('Connecting to booking...');// Test connection by getting messages\nconst response=await axios.get(`${API_ENDPOINTS.GET_MESSAGES}/${bookingCode}`);if(response.data.success){setIsConnected(true);setMessages(response.data.data.messages||[]);setStatusMessage('Connected successfully!');// Add welcome message\nconst welcomeMessage={id:Date.now().toString(),text:`Welcome to booking ${bookingCode}! You can now chat with your driver.`,sender:'ai',timestamp:new Date().toISOString(),type:'text'};setMessages(prev=>[...prev,welcomeMessage]);}}catch(error){console.error('Connection error:',error);setStatusMessage('Failed to connect. Please check your booking code.');}};// Send message\nconst sendMessage=async()=>{if(!inputText.trim()||!isConnected)return;const newMessage={id:Date.now().toString(),text:inputText,sender:'passenger',timestamp:new Date().toISOString(),type:'text'};setMessages(prev=>[...prev,newMessage]);setInputText('');setStatusMessage('Sending message...');try{const response=await axios.post(API_ENDPOINTS.SEND_MESSAGE,{booking_code:bookingCode,message:inputText,sender:'passenger'});if(response.data.success){setStatusMessage('Message sent successfully!');// Add AI response\nconst aiResponse={id:(Date.now()+1).toString(),text:'Message sent successfully. The driver will be notified.',sender:'ai',timestamp:new Date().toISOString(),type:'text'};setMessages(prev=>[...prev,aiResponse]);}}catch(error){console.error('Send message error:',error);setStatusMessage('Failed to send message. Please try again.');}};// Make call\nconst makeCall=async()=>{if(!isConnected)return;setStatusMessage('Initiating call...');try{const response=await axios.post(API_ENDPOINTS.MAKE_CALL,{booking_code:bookingCode,call_type:'voice',duration:0});if(response.data.success){const callMessage={id:Date.now().toString(),text:'Call initiated successfully',sender:'ai',timestamp:new Date().toISOString(),type:'call',callDetails:{duration:0,status:'initiated'}};setMessages(prev=>[...prev,callMessage]);setStatusMessage('Call initiated!');}}catch(error){console.error('Make call error:',error);setStatusMessage('Failed to initiate call. Please try again.');}};// Start voice recognition\nconst startListening=()=>{if(recognition&&!isListening){recognition.start();}};// Handle key press\nconst handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};return/*#__PURE__*/_jsxs(AppContainer,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Title,{children:\"PAX - Passenger Assistant\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"AI-powered chat and voice assistant\"})]}),/*#__PURE__*/_jsxs(MainContent,{children:[!isConnected?/*#__PURE__*/_jsxs(BookingCodeInput,{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Enter booking code...\",value:bookingCode,onChange:e=>setBookingCode(e.target.value),onKeyPress:e=>e.key==='Enter'&&connectToBooking()}),/*#__PURE__*/_jsx(Button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:connectToBooking,children:\"Connect\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChatContainer,{ref:chatContainerRef,children:/*#__PURE__*/_jsx(AnimatePresence,{children:messages.map(message=>/*#__PURE__*/_jsxs(MessageBubble,{$isOwn:message.sender==='passenger',initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3},children:[message.sender!=='passenger'&&/*#__PURE__*/_jsx(Avatar,{$type:message.sender,children:message.sender==='driver'?/*#__PURE__*/_jsx(FaCar,{}):/*#__PURE__*/_jsx(FaUser,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MessageContent,{$isOwn:message.sender==='passenger',children:message.type==='call'?/*#__PURE__*/_jsxs(CallIndicator,{children:[/*#__PURE__*/_jsx(FaPhone,{}),message.text]}):message.text}),/*#__PURE__*/_jsx(MessageTime,{children:new Date(message.timestamp).toLocaleTimeString()})]}),message.sender==='passenger'&&/*#__PURE__*/_jsx(Avatar,{$type:message.sender,children:/*#__PURE__*/_jsx(FaUser,{})})]},message.id))})}),/*#__PURE__*/_jsxs(InputContainer,{children:[/*#__PURE__*/_jsx(TextInput,{ref:inputRef,type:\"text\",placeholder:\"Type a message or use voice...\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:handleKeyPress,disabled:!isConnected}),/*#__PURE__*/_jsx(VoiceButton,{$isListening:isListening,whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:startListening,disabled:!isConnected||isListening,children:isListening?/*#__PURE__*/_jsx(FaMicrophoneSlash,{}):/*#__PURE__*/_jsx(FaMicrophone,{})}),/*#__PURE__*/_jsx(Button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:sendMessage,disabled:!inputText.trim()||!isConnected,children:/*#__PURE__*/_jsx(FaPaperPlane,{})}),/*#__PURE__*/_jsx(Button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:makeCall,disabled:!isConnected,children:/*#__PURE__*/_jsx(FaPhone,{})})]})]}),statusMessage&&/*#__PURE__*/_jsx(StatusMessage,{children:statusMessage})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","motion","AnimatePresence","FaMicrophone","FaMicrophoneSlash","FaPaperPlane","FaPhone","FaUser","FaCar","axios","API_ENDPOINTS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppContainer","div","Header","header","Title","h1","Subtitle","p","MainContent","main","BookingCodeInput","Input","input","ChatContainer","MessageBubble","props","$isOwn","MessageContent","MessageTime","Avatar","$type","InputContainer","TextInput","Button","button","VoiceButton","$isListening","StatusMessage","CallIndicator","App","bookingCode","setBookingCode","messages","setMessages","inputText","setInputText","isListening","setIsListening","isConnected","setIsConnected","recognition","setRecognition","statusMessage","setStatusMessage","chatContainerRef","inputRef","SpeechRecognition","window","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onend","onerror","event","console","error","onresult","transcript","results","current","scrollTop","scrollHeight","pollInterval","setInterval","response","get","data","success","newMessages","clearInterval","connectToBooking","trim","GET_MESSAGES","welcomeMessage","id","Date","now","toString","text","sender","timestamp","toISOString","type","prev","sendMessage","newMessage","post","SEND_MESSAGE","booking_code","message","aiResponse","makeCall","MAKE_CALL","call_type","duration","callMessage","callDetails","status","startListening","start","handleKeyPress","e","key","shiftKey","preventDefault","children","placeholder","value","onChange","target","onKeyPress","whileHover","scale","whileTap","onClick","ref","map","initial","opacity","y","animate","exit","transition","toLocaleTimeString","disabled"],"sources":["/Users/sameer.jha/Python_Projects/NavieTakieSimulation/frontend/pax-app/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  FaMicrophone, \n  FaMicrophoneSlash, \n  FaPaperPlane, \n  FaPhone,\n  FaUser,\n  FaCar\n} from 'react-icons/fa';\nimport axios from 'axios';\nimport { API_ENDPOINTS, CONFIG } from './config';\n\n// Types\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'driver' | 'passenger' | 'ai';\n  timestamp: string;\n  type: 'text' | 'call';\n  callDetails?: {\n    duration: number;\n    status: string;\n  };\n}\n\ninterface SpeechRecognitionErrorEvent extends Event {\n  error: string;\n  message: string;\n}\n\ninterface SpeechRecognitionResult {\n  transcript: string;\n  confidence: number;\n}\n\ninterface SpeechRecognitionResultList {\n  length: number;\n  item(index: number): SpeechRecognitionResult;\n  [index: number]: SpeechRecognitionResult;\n}\n\ninterface SpeechRecognitionEvent extends Event {\n  resultIndex: number;\n  results: SpeechRecognitionResultList;\n}\n\ninterface VoiceRecognition extends EventTarget {\n  start(): void;\n  stop(): void;\n  abort(): void;\n  continuous: boolean;\n  interimResults: boolean;\n  lang: string;\n  onstart: ((this: VoiceRecognition, ev: Event) => any) | null;\n  onend: ((this: VoiceRecognition, ev: Event) => any) | null;\n  onerror: ((this: VoiceRecognition, ev: SpeechRecognitionErrorEvent) => any) | null;\n  onresult: ((this: VoiceRecognition, ev: SpeechRecognitionEvent) => any) | null;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition: new () => VoiceRecognition;\n    webkitSpeechRecognition: new () => VoiceRecognition;\n  }\n}\n\n// Styled Components (same as DAX app)\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Header = styled.header`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  padding: 1rem;\n  text-align: center;\n  color: white;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n`;\n\nconst Title = styled.h1`\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n`;\n\nconst Subtitle = styled.p`\n  margin: 0.5rem 0 0 0;\n  font-size: 0.9rem;\n  opacity: 0.8;\n`;\n\nconst MainContent = styled.main`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  width: 100%;\n  padding: 1rem;\n`;\n\nconst BookingCodeInput = styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n`;\n\nconst Input = styled.input`\n  flex: 1;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst ChatContainer = styled.div`\n  flex: 1;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  max-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst MessageBubble = styled(motion.div)<{ $isOwn: boolean }>`\n  display: flex;\n  align-items: flex-start;\n  gap: 0.5rem;\n  justify-content: ${props => props.$isOwn ? 'flex-end' : 'flex-start'};\n`;\n\nconst MessageContent = styled.div<{ $isOwn: boolean }>`\n  background: ${props => props.$isOwn ? 'rgba(255, 255, 255, 0.9)' : 'rgba(255, 255, 255, 0.2)'};\n  color: ${props => props.$isOwn ? '#333' : 'white'};\n  padding: 0.75rem 1rem;\n  border-radius: 18px;\n  max-width: 70%;\n  word-wrap: break-word;\n  position: relative;\n  \n  ${props => props.$isOwn ? `\n    border-bottom-right-radius: 5px;\n  ` : `\n    border-bottom-left-radius: 5px;\n  `}\n`;\n\nconst MessageTime = styled.div`\n  font-size: 0.7rem;\n  opacity: 0.7;\n  margin-top: 0.25rem;\n`;\n\nconst Avatar = styled.div<{ $type: 'driver' | 'passenger' | 'ai' }>`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${props => {\n    switch (props.$type) {\n      case 'driver': return 'rgba(255, 255, 255, 0.9)';\n      case 'passenger': return 'rgba(255, 255, 255, 0.7)';\n      case 'ai': return 'rgba(255, 255, 255, 0.8)';\n      default: return 'rgba(255, 255, 255, 0.5)';\n    }\n  }};\n  color: #333;\n  font-size: 0.8rem;\n  font-weight: bold;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 25px;\n  padding: 0.5rem;\n`;\n\nconst TextInput = styled.input`\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border: none;\n  border-radius: 20px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 1rem;\n  outline: none;\n  \n  &:focus {\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst Button = styled(motion.button)`\n  width: 44px;\n  height: 44px;\n  border: none;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.9);\n  color: #333;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 1);\n    transform: scale(1.05);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst VoiceButton = styled(Button)<{ $isListening: boolean }>`\n  background: ${props => props.$isListening ? 'rgba(255, 100, 100, 0.9)' : 'rgba(255, 255, 255, 0.9)'};\n  color: ${props => props.$isListening ? 'white' : '#333'};\n`;\n\nconst StatusMessage = styled.div`\n  text-align: center;\n  color: white;\n  font-size: 0.9rem;\n  opacity: 0.8;\n  margin: 0.5rem 0;\n`;\n\nconst CallIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  background: rgba(255, 100, 100, 0.2);\n  padding: 0.5rem 1rem;\n  border-radius: 10px;\n  color: white;\n  font-size: 0.9rem;\n`;\n\n// App Component\nconst App: React.FC = () => {\n  const [bookingCode, setBookingCode] = useState('');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputText, setInputText] = useState('');\n  const [isListening, setIsListening] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [recognition, setRecognition] = useState<VoiceRecognition | null>(null);\n  const [statusMessage, setStatusMessage] = useState('');\n  \n  const chatContainerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Initialize speech recognition\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (SpeechRecognition) {\n      const recognition = new SpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'en-US';\n      \n      recognition.onstart = () => {\n        setIsListening(true);\n        setStatusMessage('Listening...');\n      };\n      \n      recognition.onend = () => {\n        setIsListening(false);\n        setStatusMessage('');\n      };\n      \n      recognition.onerror = (event) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        setStatusMessage('Voice recognition error. Please try again.');\n      };\n      \n      recognition.onresult = (event) => {\n        const transcript = event.results[0].transcript;\n        setInputText(transcript);\n        setStatusMessage('Processing voice input...');\n      };\n      \n      setRecognition(recognition);\n    } else {\n      setStatusMessage('Voice recognition not supported in this browser.');\n    }\n  }, []);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Poll for new messages\n  useEffect(() => {\n    if (!isConnected || !bookingCode) return;\n\n    const pollInterval = setInterval(async () => {\n      try {\n        const response = await axios.get(`/api/v1/get_message/${bookingCode}`);\n        if (response.data.success) {\n          const newMessages = response.data.data.messages || [];\n          setMessages(newMessages);\n        }\n      } catch (error) {\n        console.error('Polling error:', error);\n      }\n    }, 3000); // Poll every 3 seconds\n\n    return () => clearInterval(pollInterval);\n  }, [isConnected, bookingCode]);\n\n  // Connect to booking\n  const connectToBooking = async () => {\n    if (!bookingCode.trim()) {\n      setStatusMessage('Please enter a booking code.');\n      return;\n    }\n\n    try {\n      setStatusMessage('Connecting to booking...');\n      \n      // Test connection by getting messages\n      const response = await axios.get(`${API_ENDPOINTS.GET_MESSAGES}/${bookingCode}`);\n      \n      if (response.data.success) {\n        setIsConnected(true);\n        setMessages(response.data.data.messages || []);\n        setStatusMessage('Connected successfully!');\n        \n        // Add welcome message\n        const welcomeMessage: Message = {\n          id: Date.now().toString(),\n          text: `Welcome to booking ${bookingCode}! You can now chat with your driver.`,\n          sender: 'ai',\n          timestamp: new Date().toISOString(),\n          type: 'text'\n        };\n        setMessages(prev => [...prev, welcomeMessage]);\n      }\n    } catch (error) {\n      console.error('Connection error:', error);\n      setStatusMessage('Failed to connect. Please check your booking code.');\n    }\n  };\n\n  // Send message\n  const sendMessage = async () => {\n    if (!inputText.trim() || !isConnected) return;\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      text: inputText,\n      sender: 'passenger',\n      timestamp: new Date().toISOString(),\n      type: 'text'\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    setInputText('');\n    setStatusMessage('Sending message...');\n\n    try {\n      const response = await axios.post(API_ENDPOINTS.SEND_MESSAGE, {\n        booking_code: bookingCode,\n        message: inputText,\n        sender: 'passenger'\n      });\n\n      if (response.data.success) {\n        setStatusMessage('Message sent successfully!');\n        \n        // Add AI response\n        const aiResponse: Message = {\n          id: (Date.now() + 1).toString(),\n          text: 'Message sent successfully. The driver will be notified.',\n          sender: 'ai',\n          timestamp: new Date().toISOString(),\n          type: 'text'\n        };\n        setMessages(prev => [...prev, aiResponse]);\n      }\n    } catch (error) {\n      console.error('Send message error:', error);\n      setStatusMessage('Failed to send message. Please try again.');\n    }\n  };\n\n  // Make call\n  const makeCall = async () => {\n    if (!isConnected) return;\n\n    setStatusMessage('Initiating call...');\n\n    try {\n      const response = await axios.post(API_ENDPOINTS.MAKE_CALL, {\n        booking_code: bookingCode,\n        call_type: 'voice',\n        duration: 0\n      });\n\n      if (response.data.success) {\n        const callMessage: Message = {\n          id: Date.now().toString(),\n          text: 'Call initiated successfully',\n          sender: 'ai',\n          timestamp: new Date().toISOString(),\n          type: 'call',\n          callDetails: {\n            duration: 0,\n            status: 'initiated'\n          }\n        };\n        setMessages(prev => [...prev, callMessage]);\n        setStatusMessage('Call initiated!');\n      }\n    } catch (error) {\n      console.error('Make call error:', error);\n      setStatusMessage('Failed to initiate call. Please try again.');\n    }\n  };\n\n  // Start voice recognition\n  const startListening = () => {\n    if (recognition && !isListening) {\n      recognition.start();\n    }\n  };\n\n  // Handle key press\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <AppContainer>\n      <Header>\n        <Title>PAX - Passenger Assistant</Title>\n        <Subtitle>AI-powered chat and voice assistant</Subtitle>\n      </Header>\n\n      <MainContent>\n        {!isConnected ? (\n          <BookingCodeInput>\n            <Input\n              type=\"text\"\n              placeholder=\"Enter booking code...\"\n              value={bookingCode}\n              onChange={(e) => setBookingCode(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && connectToBooking()}\n            />\n            <Button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={connectToBooking}\n            >\n              Connect\n            </Button>\n          </BookingCodeInput>\n        ) : (\n          <>\n            <ChatContainer ref={chatContainerRef}>\n              <AnimatePresence>\n                {messages.map((message) => (\n                  <MessageBubble\n                    key={message.id}\n                    $isOwn={message.sender === 'passenger'}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -20 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    {message.sender !== 'passenger' && (\n                      <Avatar $type={message.sender}>\n                        {message.sender === 'driver' ? <FaCar /> : <FaUser />}\n                      </Avatar>\n                    )}\n                    <div>\n                      <MessageContent $isOwn={message.sender === 'passenger'}>\n                        {message.type === 'call' ? (\n                          <CallIndicator>\n                            <FaPhone />\n                            {message.text}\n                          </CallIndicator>\n                        ) : (\n                          message.text\n                        )}\n                      </MessageContent>\n                      <MessageTime>\n                        {new Date(message.timestamp).toLocaleTimeString()}\n                      </MessageTime>\n                    </div>\n                    {message.sender === 'passenger' && (\n                      <Avatar $type={message.sender}>\n                        <FaUser />\n                      </Avatar>\n                    )}\n                  </MessageBubble>\n                ))}\n              </AnimatePresence>\n            </ChatContainer>\n\n            <InputContainer>\n              <TextInput\n                ref={inputRef}\n                type=\"text\"\n                placeholder=\"Type a message or use voice...\"\n                value={inputText}\n                onChange={(e) => setInputText(e.target.value)}\n                onKeyPress={handleKeyPress}\n                disabled={!isConnected}\n              />\n              <VoiceButton\n                $isListening={isListening}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={startListening}\n                disabled={!isConnected || isListening}\n              >\n                {isListening ? <FaMicrophoneSlash /> : <FaMicrophone />}\n              </VoiceButton>\n              <Button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={sendMessage}\n                disabled={!inputText.trim() || !isConnected}\n              >\n                <FaPaperPlane />\n              </Button>\n              <Button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={makeCall}\n                disabled={!isConnected}\n              >\n                <FaPhone />\n              </Button>\n            </InputContainer>\n          </>\n        )}\n\n        {statusMessage && (\n          <StatusMessage>{statusMessage}</StatusMessage>\n        )}\n      </MainContent>\n    </AppContainer>\n  );\n};\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}